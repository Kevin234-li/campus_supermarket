{% extends 'base.html' %}
{% block content %}
    <style>
        table{border-collapse: collapse;margin: 0 auto;}
        th{height: 40px;line-height: 40px;text-align: center}
        td{height: 40px;line-height: 40px;width: 120px;font: 16px bold Microsoft Yahei}
        h1{font-size: 16px;margin-left: 190px}
    </style>
    <form action="{% url 'user:edit' %}" id="form" method="post">
        <table >
            <tr>
                <td style="text-align: right">用户名：</td>
                <td style="text-align: left" class="item">{{ user.username }}</td>
            </tr>
            <tr>
                <td style="text-align: right">密码：</td>
                <td style="text-align: left" class="item">{{ user.password }}</td>
            </tr>
            <tr>
                <td style="text-align: right">手机：</td>
                <td style="text-align: left" class="item">{{ user.phone }}</td>
            </tr>
            <tr>
                <td style="text-align: right">邮箱：</td>
                <td style="text-align: left" class="item">{{ user.email }}</td>
            </tr>
            <tr>
                <td style="text-align: right">收货地址：</td>
                <td style="text-align: left" class="item">{{ user.direction }}</td>
            </tr>
        </table>
    </form>
    <div>
        <button onclick="f()" id="btn" style="margin-left: 550px">编辑</button>
    </div>
    <script>
        var btn = document.getElementById("btn"),
            items = document.getElementsByClassName("item"),
            form = document.getElementById("form"),
            test = document.getElementById("test");
        function f() {
            if(btn.innerHTML == "编辑"){
                let names = new Array('username','pwd','phone','email','direction');
                let s1 = '<input type="text" name="', s2 = '" value="', s3 = '">';
                for (let i = 1;i<items.length;i++){
                    items[i].innerHTML = s1 + names[i] + s2 + items[i].innerHTML + s3;
                }
                btn.innerHTML = "保存";
            }
            else {
                form.submit()
            }
        }
    </script>
{% endblock %}